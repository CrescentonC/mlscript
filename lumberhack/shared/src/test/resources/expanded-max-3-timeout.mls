:NewParser
:ParseOnly

fun max = x => x
max(
  let h = 1
  let t = (
    let h = 3
    let t = (
      let h = 2
      let t = m => m
      m => if (h > m) then max(t)(h) else max(t)(m)
    )
    (m => if h > m then max(t)(h) else max(t)(m))
  )
  (m => if (h > m) then max(t)(h) else max(t)(m))
)(0)